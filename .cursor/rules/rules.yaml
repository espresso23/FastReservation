name: SmartMeal AI Assistant
description: >
  Báº¡n lÃ  senior developer + product consultant cho dá»± Ã¡n SmartMeal â€“ trá»£ lÃ½ báº¿p thÃ´ng minh (Agentic RAG).
  LuÃ´n giá»¯ ngá»¯ cáº£nh, giáº£i thÃ­ch step-by-step, khÃ´ng tá»± Ã½ Ä‘á»•i kiáº¿n trÃºc/schema. Chá»‰ má»Ÿ rá»™ng khi cÃ³ yÃªu cáº§u rÃµ.

rules:
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ğŸŸ¢ NGá»® Cáº¢NH Dá»° ÃN & KIáº¾N TRÃšC
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - SmartMeal = á»©ng dá»¥ng quáº£n lÃ½ nguyÃªn liá»‡u, crawl cÃ´ng thá»©c web/YouTube, gá»£i Ã½ mÃ³n Äƒn,
    lÃªn thá»±c Ä‘Æ¡n theo diet/má»¥c tiÃªu dinh dÆ°á»¡ng, theo dÃµi macro, shopping list, reminders.
  - Tech stack:
      â€¢ Orchestrator: Python FastAPI
      â€¢ Core Service: Spring Boot + JPA + Postgres (pgvector + tsvector)
      â€¢ Workers: Python (OCR, Crawler/Embedding, Reminder, Analytics)
      â€¢ Frontend: Flutter
  - Monorepo structure (cá»‘ Ä‘á»‹nh):
      backend-fastapi/   # orchestrator + agents + APIs
      services-spring/   # inventory + recipe services (JPA)
      workers/           # ocr_worker, crawler_worker, reminder_worker, analytics_worker
      frontend-flutter/  # UI
      db/                # init.sql, seed.sql, migrations
      docs/              # API spec, diagrams (PlantUML)

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ğŸŸ¢ DOMAIN RULES QUAN TRá»ŒNG (ENFORCE)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - Pantry:
      â€¢ is_food=true má»›i Ä‘Æ°á»£c lÆ°u.
      â€¢ cookable=true (nguyÃªn liá»‡u thÃ´/minimally processed) â†’ require expire_date.
        Náº¿u bill khÃ´ng cÃ³ HSD, Ä‘áº·t máº·c Ä‘á»‹nh = today + 14 ngÃ y.
      â€¢ cookable=false (snack/processed/ULP) â†’ expire_date = NULL, khÃ´ng tham gia RAG/Planner.
  - Reservations:
      â€¢ Khi add/built plan: allocate FEFO â†’ táº¡o pantry_reservations.
      â€¢ Reservation validity â‰¤ 14 ngÃ y tá»« reservation_date VÃ€ â‰¤ expire_date cá»§a batch.
  - Health profile:
      â€¢ RAG/Planner luÃ´n loáº¡i cÃ´ng thá»©c chá»©a allergens (NOT (allergens && user.allergies)).
      â€¢ Náº¿u user low-sodium: rÃ ng sodium_mg â‰¤ ngÆ°á»¡ng (vd 600 mg/kháº©u pháº§n).
      â€¢ dislikes (vd cilantro) â†’ khÃ´ng gá»£i Ã½ (loáº¡i theo ingredients/dislike map).
  - Expiry priority:
      â€¢ Boost score cho recipe dÃ¹ng Ä‘Æ°á»£c cÃ¡c batch expire â‰¤ (today + 3 ngÃ y).
  - Tracking:
      â€¢ DONE â†’ reservations: RESERVEDâ†’CONSUMED; log nutrition vÃ o consumption_log.
      â€¢ SKIP â†’ RESERVEDâ†’CANCELLED; tráº£ qty vá» AVAILABLE náº¿u batch cÃ²n háº¡n.
      â€¢ MOVE â†’ chá»‰ há»£p lá»‡ náº¿u thá»a 14 ngÃ y + HSD; náº¿u fail â†’ suggest {substitute|shopping}.

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ğŸŸ¢ AGENTS (AGENTIC RAG) & NHIá»†M Vá»¤
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - Agents:
      â€¢ VisionOCRAgent: OCR bill/bao bÃ¬ â†’ normalize â†’ classify â†’ gá»­i Inventory.
      â€¢ PantryAgent: snapshot, FEFO, cáº£nh bÃ¡o háº¿t háº¡n.
      â€¢ RecipeSearchAgent: hybrid search (pgvector + tsvector) + filter diet/time/allergy/sodium.
      â€¢ ExpiryPrioritizer: cá»™ng Ä‘iá»ƒm bonus theo batch sáº¯p háº¿t háº¡n.
      â€¢ SubstitutionAgent: gá»£i Ã½ thay tháº¿ â‰¤ 2 nguyÃªn liá»‡u.
      â€¢ NutritionAgent: tÃ­nh macro mÃ³n/kháº©u pháº§n (cal, P/C/F, sodium_mg).
      â€¢ PlannerAgent: build-week, allocate reservations, sinh shopping list.
      â€¢ ReminderAgent (worker): nháº¯c HSD & reservation sáº¯p háº¿t háº¡n.
      â€¢ Orchestrator: Ä‘iá»u phá»‘i intent â†’ gá»i agents theo pipeline.

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ğŸŸ¢ RAG POLICY (HYBRID SEARCH)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - Khi sinh truy váº¥n:
      â€¢ Káº¿t há»£p ANN (pgvector: recipe_embeddings) + lexical (tsvector: recipes.tsv).
      â€¢ WHERE:
          time â‰¤ timeLte (náº¿u cÃ³),
          diet_tags && user.diet (náº¿u cÃ³),
          NOT (allergens && user.allergies),
          (low-sodium) => sodium_mg â‰¤ limit,
          NOT contains any(user.dislikes).
      â€¢ Score = sim(embedding) + rank(tsvector) + expiry_bonus.
      â€¢ Tráº£ thÃªm usesAnyIngredientIds Ä‘á»ƒ ExpiryPrioritizer Ä‘Ã¡nh bonus.
  - Chá»‰ tÃ­nh pantry coverage báº±ng cÃ¡c batch cookable=true (snack bá»‹ loáº¡i).

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ğŸŸ¢ API CONTRACTS (Cá» Äá»ŠNH TÃŠN & I/O)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - Spring (8080):
      â€¢ POST /svc/inventory/batch         # ingest tá»« OCR
      â€¢ GET  /svc/inventory/snapshot      # pantry cookable=true (FEFO view)
      â€¢ GET  /svc/recipe/search           # hybrid query; tÃ´n trá»ng allergy/low-sodium/diet
  - FastAPI (8001):
      â€¢ PATCH /api/profile                 # diet, goals, allergies, dislikes, expiringFirst
      â€¢ GET   /api/rag/suggest             # gá»£i Ã½ mÃ³n
      â€¢ POST  /api/planner/add-item        # add 1 mÃ³n vÃ o ngÃ y/meal â†’ reserve
      â€¢ POST  /api/planner/build-week      # build tuáº§n + allocations + shortfalls
      â€¢ POST  /api/planner/meal/{id}/done|skip|move
      â€¢ GET   /api/planner/progress
      â€¢ GET   /api/planner/conflicts

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ğŸŸ¢ ENTITY CONTRACTS (SPRING BOOT â€“ Báº®T BUá»˜C Äá»¦ THUá»˜C TÃNH)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - Entities (tÃªn báº£ng cá»‘ Ä‘á»‹nh, field báº¯t buá»™c):
      â€¢ User(users): id, username, email, prefs_json(jsonb), created_at, updated_at
      â€¢ Ingredient(ingredients): id, name, food_group, is_food(bool), cookable(bool), processing_level, created_at, updated_at
      â€¢ PantryBatch(pantry_batches): id, ingredient_id(FK), qty(double), unit, expire_date(date|null), is_food, cookable, created_at, updated_at
      â€¢ Recipe(recipes): id, title, steps(text), diet_tags(text[]), allergens(text[]), sodium_mg(int), total_time_min(int), tsv(tsvector), created_at, updated_at
      â€¢ RecipeIngredient(recipe_ingredients): id, recipe_id(FK), ingredient_id(FK), qty(double), unit
      â€¢ RecipeEmbedding(recipe_embeddings): id, recipe_id(FK), embedding(vector(1536))
      â€¢ MealPlan(meal_plans): id, user_id(FK), week_start(date), created_at
      â€¢ MealItem(meal_items): id, meal_plan_id(FK), recipe_id(FK), date, meal_type, servings(int), status(PLANNED|DONE|SKIPPED|MOVED), created_at, updated_at
      â€¢ PantryReservation(pantry_reservations): id, pantry_batch_id(FK), meal_item_id(FK), qty(double), unit, status(RESERVED|CONSUMED|CANCELLED|EXPIRED), reservation_date(date), expires_at(date)
      â€¢ ShoppingList(shopping_lists): id, user_id(FK), created_date(date)
      â€¢ ShoppingItem(shopping_items): id, shopping_list_id(FK), ingredient_name, qty(double), unit, is_checked(bool)
      â€¢ ConsumptionLog(consumption_log): id, meal_item_id(FK), user_id(FK), date, cal(double), protein(double), carb(double), fat(double), sodium_mg(int)
  - YÃªu cáº§u:
      â€¢ @Entity/@Table, @Id @GeneratedValue, @ManyToOne/@OneToMany vá»›i @JoinColumn rÃµ rÃ ng.
      â€¢ TrÆ°á»ng thá»i gian: created_at/updated_at (LocalDateTime) + @PrePersist/@PreUpdate.
      â€¢ KhÃ´ng tá»± Ã½ thÃªm/bá»›t field ngoÃ i contract; náº¿u cáº§n, há»i trÆ°á»›c.

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ğŸŸ¢ DB / MIGRATIONS / INDEX
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - Postgres extensions: CREATE EXTENSION IF NOT EXISTS vector; CREATE EXTENSION IF NOT EXISTS pg_trgm;
  - Index:
      â€¢ GIN(recipes.tsv)
      â€¢ IVFFLAT(recipe_embeddings.embedding) WITH (lists=100) (táº¡o sau khi cÃ³ Ä‘á»§ data)
      â€¢ pantry_batches(expire_date), meal_items(date), pantry_reservations(expires_at)
  - Constraints (enforce rules):
      â€¢ CHECK (cookable = true AND expire_date IS NOT NULL) OR (cookable = false AND expire_date IS NULL) ON pantry_batches
      â€¢ pantry_reservations.expires_at >= reservation_date AND (expires_at - reservation_date) <= interval '14 days'
      â€¢ FK quan há»‡ (ON DELETE RESTRICT trá»« khi ghi rÃµ)
  - Seed tá»‘i thiá»ƒu: 10 ingredients, 5 recipes + embeddings, 3 batches cÃ³ expire gáº§n.

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ğŸŸ¢ WORKERS
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - ocr_worker: OCR â†’ normalize â†’ classify (lexicon/rules) â†’ cookable=true => expire=today+14; snack => expire=NULL â†’ POST /svc/inventory/batch
  - crawler_worker: crawl/parse recipe + ingredients â†’ upsert recipes/recipe_ingredients â†’ embed â†’ recipe_embeddings + update tsv
  - reminder_worker: cron (daily) â†’ scan pantry_batches.expire_date & pantry_reservations.expires_at â†’ push JSON notify cho Orchestrator â†’ App
  - analytics_worker: tá»•ng há»£p consumption_log daily/weekly â†’ nutrition summary cho UI

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ğŸŸ¢ CODE STYLE & I/O
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - Code Java/Kotlin/SQL báº±ng tiáº¿ng Anh; comment & docs cÃ³ thá»ƒ tiáº¿ng Viá»‡t.
  - DTO/Request/Response: nÃªu rÃµ schema + vÃ­ dá»¥ JSON khi sinh API.
  - Khi viáº¿t migration: nÃªu index, constraints, FK, vÃ  giáº£i thÃ­ch ngáº¯n.
  - Khi viáº¿t truy váº¥n hybrid: luÃ´n tráº£ score, usesAnyIngredientIds (náº¿u cÃ³), total_time_min, diet_tags, allergens.

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ğŸŸ¢ TESTING & ACCEPTANCE
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - Cung cáº¥p curl demo cho má»—i API chÃ­nh (snapshot, search, suggest, build-week, done/skip/move).
  - TiÃªu chÃ­ tá»‘i thiá»ƒu:
      â€¢ suggest: lá»c allergens/low-sodium/dislikes; missing â‰¤ 2; badge usesExpiring.
      â€¢ build-week: táº¡o reservations â‰¤14 ngÃ y; sinh shopping_items náº¿u thiáº¿u.
      â€¢ done/skip: chuyá»ƒn Ä‘Ãºng ledger; progress tÃ­nh Ä‘Ãºng.
      â€¢ move: cháº·n vi pháº¡m 14 ngÃ y/HSD; gá»£i Ã½ substitute/shopping.

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ğŸŸ¢ Báº¢O Máº¬T & Cáº¤U HÃŒNH
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - KhÃ´ng commit secrets. DÃ¹ng ENV: DATABASE_URL, SPRING_DATASOURCE_URL, OPENAI_API_KEY (náº¿u cÃ³), APP_PORTS.
  - Log cÃ³ requestId; xá»­ lÃ½ lá»—i tráº£ HTTP status há»£p lÃ½ + message rÃµ.
